!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("@xstate/fsm")):"function"==typeof define&&define.amd?define(["exports","vue","@xstate/fsm"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).XStateVueFSM={},e.Vue,e.XStateFSM)}(this,(function(e,t,n){"use strict";var u=function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t};e.useMachine=function(e,s){var i=n.interpret(n.createMachine(e.config,s||e._options)).start(),o=t.shallowRef(u(i));return t.onMounted((function(){i.subscribe((function(e){return o.value=e}))})),t.onBeforeUnmount(i.stop),{state:o,send:i.send,service:i}},e.useService=function(e){var n=t.isRef(e)?e:t.shallowRef(e),s=t.shallowRef(n.value.state);return t.watch(n,(function(e,t,n){s.value=u(e),n(e.subscribe((function(e){e.changed&&(s.value=e)})).unsubscribe)}),{immediate:!0}),{state:s,send:function(e){return n.value.send(e)},service:n}},Object.defineProperty(e,"__esModule",{value:!0})}));
